!function(){"use strict";const e=(e,t)=>{const n=`__${t}`;let o=e.target;for(;null!==o;){const e=o[n];if(e)return void e(o[`__${t}Data`]);o=o.parentNode}},t={};function n(n){t[n]||(document.addEventListener(n,t=>e(t,n)),t[n]=!0)}function o(){}o.possible="abcdefghijklmnopqrstuvwxyz",o.counter=0;const s={};class d{constructor(){this.varCode=this.vdomCode=this.compareCode=this.refsCode=this.directiveSetupCode=this.directiveUpdateCode="",this.scopeVars={}}compile(e){let t,n,o,s,d=!1,i="node",r=e;this.codegen(r,i),i="";do{if(!d&&(t=r.firstChild)){if(3===t.nodeType&&""===t.nodeValue.trim()){t.parentNode.removeChild(t);continue}d=!1,n=i,i+="_f",this.varCode+=`let ${i} = ${n||"node"}.firstChild;\n`,(s=this.codegen(t,i))>0&&(d=!0)}else if(t=r.nextSibling){if(3===t.nodeType&&""===t.nodeValue.trim()){t.parentNode.removeChild(t);continue}d=!1,n=i,i+="_n",this.varCode+=`let ${i} = ${n||"node"}.nextSibling;\n`,(s=this.codegen(t,i))>0&&(d=!0)}else i="n"===i[(o=i.length)-1]?i.slice(0,i.lastIndexOf("_f_n")):i.slice(0,o-2),t=r.parentNode,d=!0;if((r=t)===e)break}while(r)}codegen(e,t){if(3!==e.nodeType){if(void 0!==e.attributes)for(let s of e.attributes){const d=s.name,i=s.value;if("v"===d[0]&&"-"===d[1]){e.removeAttribute(d);const n=d.slice(2),s=o.possible.charAt(o.counter++);return this.directiveSetupCode+=`node.__${s} = CD.${n}(${t}, "${i}");\n`,this.directiveUpdateCode+=`node.__${s}(scope);\n`,1}if("o"===d[0]&&"n"===d[1]){const s=d.slice(2);if(n(s),i.indexOf("${")>=0){const n=i.slice(2,i.length-1),r=n.indexOf("(");let a,c;if(r>=0){a=n.slice(0,r);const e=n.slice(r+1,n.length-1);c=e.length>0?e.split(","):[]}else a=n,c=[];if(c.length>0){const e=o.possible.charAt(o.counter++);this.refsCode+=`const ${e} = node.__${e} = ${t};\n`,this.refsCode+=`${e}.__${s} = scope.${a};\n`,this.vdomCode+=`vdom.${e} = ${c};\n`,this.compareCode+=`if (current.${e} !== vdom.${e}) node.__${e}.__${s}Data = vdom.${e};\n`}else this.refsCode+=`${t}.__${s} = scope.${a};\n`;e.removeAttribute(d);for(let e,t,n=0;n<c.length;n++)(e=(t=c[n]).charCodeAt(0))>=97&&e<=122&&(t.indexOf(".")>=0?this.scopeVars[t.slice(0,t.indexOf("."))]=!0:this.scopeVars[t]=!0)}}else if(i.indexOf("${")>=0){if("class"===d){const e=o.possible.charAt(o.counter++);this.refsCode+=`node.__${e} = ${t};\n`,this.vdomCode+=`vdom.${e} = ${i.slice(2,i.length-1)};\n`,this.compareCode+=`if (current.${e} !== vdom.${e}) node.__${e}.className = vdom.${e};\n`}else{const e=o.possible.charAt(o.counter++);this.refsCode+=`node.__${e} = ${t};\n`,this.vdomCode+=`vdom.${e} = ${i.slice(2,i.length-1)};\n`,this.compareCode+=`if (current.${e} !== vdom.${e}) node.__${e}.setAttribute("${d}", vdom.${e});\n`}const n=i.slice(2,i.length-1).split(" ");for(let e,t,o=0;o<n.length;o++)(e=(t=n[o]).charCodeAt(0))>=97&&e<=122&&(t.indexOf(".")>=0?this.scopeVars[t.slice(0,t.indexOf("."))]=!0:this.scopeVars[t]=!0);e.removeAttribute(d)}}}else{const n=e.nodeValue;if(n.indexOf("${")>=0){const s=o.possible.charAt(o.counter++);this.refsCode+=`node.__${s} = ${t};\n`,this.vdomCode+=`vdom.${s} = ${n.slice(2,n.length-1)};\n`,this.compareCode+=`if (current.${s} !== vdom.${s}) node.__${s}.nodeValue = vdom.${s};\n`,e.nodeValue="";const d=n.slice(2,n.length-1).split(" ");for(let e,t,n=0;n<d.length;n++)(e=(t=d[n]).charCodeAt(0))>=97&&e<=122&&(t.indexOf(".")>=0?this.scopeVars[t.slice(0,t.indexOf("."))]=!0:this.scopeVars[t]=!0)}}return 0}createFn(){return Function("node","scope","CD",this.varCode+"\n"+this.refsCode+"\n"+this.directiveSetupCode)}updateFn(){let e="";for(let t of Object.keys(this.scopeVars))e+=t+",";return Function("scope",`const node = this;\n\n${this.vdomCode.length>0?`const {${e}} = scope;\nconst current = node.__vdom || {};\n\nconst vdom = {};\n${this.vdomCode}\n${this.compareCode}\nnode.__vdom = vdom;\n`:""}${this.directiveUpdateCode}`)}}class i{constructor(e,t,n){this.dom=e,this.create=t,this.update=n}createInstance(e){const t=this.dom.cloneNode(!0);return this.create(t,e,s),t.update=this.update,t.update(e),t}rehydrate(e){this.create(this.dom,e,s),this.dom.update=this.update,this.dom.update(e)}}function r(e){const t=new d;t.compile(e);const n=t.createFn(),o=t.updateFn();return new i(e,n,o)}s.map=function(e,t="item of data"){const n=e.parentNode;n.textContent="";let o=[];const s=t.indexOf(" of "),d=t.slice(s+4),i=t.slice(0,s),a=r(e);return e=>{const t=e[d];if(0===t.length)return n.textContent="",void(o.length=0);if(o.length>t.length){for(let e=t.length;e<o.length;e++)n.removeChild(o[e]);o.length=t.length}const s=Object.assign({},e);for(let e=0;e<t.length;e++)s[i]=t[e],o[e]?o[e].update(s):(o[e]=a.createInstance(s),n.appendChild(o[e]))}};for(var a="",c=0;c<100;c++)a+="-";let l=1;const h=e=>{for(var t=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],n=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],o=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],s=[],d=0;d<e;d++)s.push({id:l++,label:t[u(t.length)]+" "+n[u(n.length)]+" "+o[u(o.length)],indicator:a.substr(0,Math.round(100*Math.random()))});return s},u=e=>Math.round(1e3*Math.random())%e,p={add:()=>{p.data=p.data.concat(h(1e3)),f.update(p)},run:()=>{p.data=h(1e3),f.update(p)},runLots:()=>{p.data=h(1e4),f.update(p)},clearData:()=>{p.data=[],f.update(p)},update:()=>{const e=p.data;for(let t=0;t<e.length;t++)e[t].indicator=a.substr(0,Math.round(100*Math.random()));f.update(p)},swapRows:()=>{const e=p.data;if(e.length>998){var t=e[1];e[1]=e[998],e[998]=t}f.update(p)},del:e=>{const t=e.id,n=p.data,o=n.findIndex(e=>e.id===t);n.splice(o,1),f.update(p)},select:e=>{p.selected=parseInt(e.id),f.update(p)},selected:0,data:[]},f=document.getElementById("main");r(f).rehydrate(p)}();
//# sourceMappingURL=app.min.js.map
